const products= [
    {
        id:1,
        title:"ipone 14",
        description:"SAMSUNG Galaxy S22 Ultra Smartphone, Factory Unlocked Android Cell SAMSUNG Galaxy S22 Ultra Smartphone, Factory Unlocked Android CellSAMSUNG Galaxy S22 Ultra Smartphone, Factory Unlocked Android CellSAMSUNG Galaxy S22 Ultra Smartphone, Factory Unlocked Android Cell",
        price:549,
        discountpercentage:12.69,
        rating:4.69,
        stock:94,
        brand:"Apple",
        category:"smartphones",
        themobile:"./img/prouducts/iphone 14 2.png",
        paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
        images:[
            "./img/prouducts/iphone 14 2.png",
            "./img/prouducts/iphone 14 2.png",
            "./img/prouducts/iphone 14 3.png",
            "./img/prouducts/iphone 14 4.png",
        ]
    } ,
    {
       id:2,
       title:"ipone 11",
       description:"An apple mobile which is noting like apple",
       price:499,
       discountpercentage:12.69,
       rating:4.69,
       stock:94,
       brand:"Apple",
       category:"smartphones",
       themobile:"./img/prouducts/iphone 11 1.png",
       paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
       images:[
           "./img/prouducts/iphone 11 1.png",
           "./img/prouducts/iphone 11 2.png",
           "./img/prouducts/iphone 11 3.png",
           "./img/prouducts/iphone 11 4.png",
       ]
   },
   {
      id:3,
      title:"ipone 15 pro max",
      description:"An apple mobile which is noting like apple",
      price:1299,
      discountpercentage:12.69,
      rating:4.69,
      stock:94,
      brand:"Apple",
      category:"smartphones",
      themobile:"./img/prouducts/iphone 14 pro max 1.png",
      paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
      images:[
        "./img/prouducts/iphone 14 pro max 1.png",
        "./img/prouducts/iphone 14 pro max 2.png",
         
      ]
  },
  {
    id:4,
    title:"ipone 15 pro max",
    description:"An apple mobile which is noting like apple",
    price:1399,
    discountpercentage:12.69,
    rating:4.69,
    stock:94,
    brand:"Apple",
    category:"smartphones",
    paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
    themobile:"./img/prouducts/iphone 14 pro max 2.png",
    images:[
      "./img/prouducts/iphone 14 pro max 1.png",
      "./img/prouducts/iphone 14 pro max 2.png",
       
    ]
},
{
    id:5,
    title:"ipone 11",
    description:"An apple mobile which is noting like apple",
    price:549,
    discountpercentage:12.69,
    rating:4.69,
    stock:94,
    brand:"Apple",
    category:"smartphones",
    paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
    themobile:"./img/prouducts/iphone 11 2.png",
    images:[
        "./img/prouducts/iphone 11 1.png",
        "./img/prouducts/iphone 11 2.png",
        "./img/prouducts/iphone 11 3.png",
        "./img/prouducts/iphone 11 4.png",
    ]
},
{
    id:6,
    title:"ipone 14",
    description:"An apple mobile which is noting like apple",
    price:449,
    discountpercentage:12.69,
    rating:4.69,
    stock:94,
    brand:"Apple",
    category:"smartphones",
    paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
    themobile:"./img/prouducts/iphone 14 4.png",
    images:[
        "./img/prouducts/iphone14 1.png",
        "./img/prouducts/iphone14 2.png",
        "./img/prouducts/iphone14 3.png",
        "./img/prouducts/iphone14 4.png",
    ]
},
{
    id:7,
    title:"ipone 14",
    description:"An apple mobile which is noting like apple",
    price:449,
    discountpercentage:12.69,
    rating:4.69,
    stock:94,
    brand:"Apple",
    category:"smartphones",
    paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
    themobile:"./img/prouducts/iphone 14 4.png",
    images:[
        "./img/prouducts/iphone14 1.png",
        "./img/prouducts/iphone14 2.png",
        "./img/prouducts/iphone14 3.png",
        "./img/prouducts/iphone14 4.png",
    ]
},
{
    id:8,
    title:"ipone 14",
    description:"An apple mobile which is noting like apple",
    price:449,
    discountpercentage:12.69,
    rating:4.69,
    stock:94,
    brand:"Apple",
    category:"smartphones",
    paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
    themobile:"./img/prouducts/iphone 14 4.png",
    images:[
        "./img/prouducts/iphone14 1.png",
        "./img/prouducts/iphone14 2.png",
        "./img/prouducts/iphone14 3.png",
        "./img/prouducts/iphone14 4.png",
    ]
}
,
{
    id:9,
    title:"ipone 14",
    description:"An apple mobile which is noting like apple",
    price:449,
    discountpercentage:12.69,
    rating:4.69,
    stock:94,
    brand:"Apple",
    category:"smartphones",
    paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
    themobile:"./img/prouducts/iphone 14 4.png",
    images:[
        "./img/prouducts/iphone14 1.png",
        "./img/prouducts/iphone14 2.png",
        "./img/prouducts/iphone14 3.png",
        "./img/prouducts/iphone14 4.png",
    ]
}
,
{
    id:10,
    title:"ipone 14",
    description:"An apple mobile which is noting like apple",
    price:449,
    discountpercentage:12.69,
    rating:4.69,
    stock:94,
    brand:"Apple",
    category:"smartphones",
    paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
    themobile:"./img/prouducts/iphone 14 4.png",
    images:[
        "./img/prouducts/iphone14 1.png",
        "./img/prouducts/iphone14 2.png",
        "./img/prouducts/iphone14 3.png",
        "./img/prouducts/iphone14 4.png",
    ]
}
,
{
    id:11,
    title:"ipone 14",
    description:"An apple mobile which is noting like apple",
    price:449,
    discountpercentage:12.69,
    rating:4.69,
    stock:94,
    brand:"Apple",
    category:"smartphones",
    paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
    themobile:"./img/prouducts/iphone 14 4.png",
    images:[
        "./img/iphone14 1.png",
        "./img/iphone14 2.png",
        "./img/iphone14 3.png",
        "./img/iphone14 4.png",
    ]
}
,
{
    id:12,
    title:"ipone 14",
    description:"An apple mobile which is noting like apple",
    price:449,
    discountpercentage:12.69,
    rating:4.69,
    stock:94,
    brand:"Apple",
    category:"smartphones",
    paragraph:" 8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with ",
    themobile:"./img/prouducts/iphone 14 4.png",
    images:[
        "./img/iphone14 1.png",
        "./img/iphone14 2.png",
        "./img/iphone14 3.png",
        "./img/iphone14 4.png",
    ]
}
];


const productscont= document.querySelector('#products_cont_mobile');
const cartcount = document.querySelector('.cart_num');
const cart =JSON.parse(localStorage.getItem('cart')) || [];

// const cart =[];
console.log(cart);
renderproduct();
addevents();
calcCartcount();

// showditlsproduct()


function renderproduct(){
    productscont.innerHTML ='';
    products.forEach(product => {
        productscont.innerHTML +=`
        <div class="prouduct col-12 col-sm-6 col-md-4 col-lg-3 "  animate__fadeInUp>
        <div class="cart">
            <a href="#">
                  <img src="${product.themobile}" width="100%" class="card_img_top" data-id="${product.id}" alt="">
            </a>
            <div class="card_body">
             <h5 class="card_title" data-header>${product.title}</h5>
             <p class="paragraph_product">${product.paragraph}</p>
             <p class="card_price "><span class=" text_primary">$ ${product.price}</span>/ price </p>
               ${(cart.find(ele => ele.id == product.id) )?  
                `<h5 class="fw-bolder text-center">Add to cart!</h5>`
                :
             `<button herf="#" class=" btn_add_to_cart" data-target="${product.id}"><i class="fa-solid fa-cart-shopping"></i> Add to cart</button>`}
           </div>
         </div>
       </div>
        `
});
};

function addevents(){
   const addtocartbtns =document.querySelectorAll('.btn_add_to_cart ');
  addtocartbtns.forEach(btn => {
  btn.addEventListener('click',() =>{
 const parent = btn.parentElement;
//  const parent = btn.closest('.card_body');
//  btn.closest('.card-body');
    const id =btn.dataset.target;
    const productobj = products.find(product =>{
        return product.id == id;
        
    })
    let quantity =1;
    cart.push({...productobj,quantity:1})
   console.log(cart);
    btn.remove();
    parent.innerHTML += `<h5 class="fw-bolder text-center">Add to cart!</h5>`
    savecartlocalsrg();
    calcCartcount();
  })
  })
    
}

function savecartlocalsrg(){
    localStorage.setItem('cart',JSON.stringify(cart));
    // localStorage.setItem('cart',JSON.stringify(cart))
}

function calcCartcount(){
    cartcount.textContent = cart.length;
}



const imgDetls =document.querySelectorAll('.card_img_top ');
function rendershowproduct(id){
;
    let ditlproducts = document.querySelector('.ditls_products');
          let product= products.find(  (pro)=>{
            return (pro.id == id)
          })


    ditlproducts.innerHTML='';
    ditlproducts.innerHTML =`
    <div class="col-12 ex_btn" onclick="Exbtn()"><i class="fa-solid fa-x"></i> </div>
    <div class="col-12  All_ditls">
    <div class="col-12 col-md-12 col-lg-6 img_product">
        <div class="lg_img">
            <img src="${product.themobile}" alt="">
        </div>
        <div class="sm_img">
            <span class="imgs"><img src="${product.images[0]}" alt=""></span>
            <span class="imgs"><img src="${product.images[1]}" alt=""></span>
            <span class="imgs"><img src="${product.images[2]}" alt=""></span>
            <span class="imgs"><img src="${product.images[3]}" alt=""></span>
        </div>
    </div>      
    <div class="col-12 col-md-12 col-lg-6 text_product">
        <a href="./index.html"><i class="fa-solid fa-chevron-left"></i> Go back</a>
        <h2>${product.title}</h2>
              <div class="sel_color">                               
                <select name="Select Color" id="pick-color">
                     <option value="select color" disabled selected>select color</option>
                     <option value="transparent">default</option>
                    <option value="red">Red</option>
                    <option value="Grean">Grean</option>
                    <option value="White">White</option>
                    <option value="Black">Black</option>
                </select>
              </div>
              <h2>Details:</h2>
              <p>
                8K SUPER STEADY VIDEO: Shoot videos that rival how epic your life is with 
                stunning 8K recording, the highest recording resolution available on a smartphone
                <br>
                ${product.description}
              </p>
              <h2 class="Total_price fs-3">$ ${product.price}</h2>
              <ul class="product-rate">
                <li class="stard">★</li>
                <li class="stard">★</li>
                <li class="stard">★</li>
                <li class="stard">★</li>
                <li class="stard">★</li>
            </ul>
            ${(cart.find(ele => ele.id == product.id) )?  
                `<h5 class="fw-bolder text-center">carted</h5>`
                :
             `<button herf="#" class="btn_add_to_cart" data-target="${product.id}"><i class="fa-solid fa-cart-shopping"></i> Add to cart</button>`}
             
    </div>
</div>
    `
    addevents();
};

    const imgD_etls =document.querySelectorAll('.card_img_top ');
    imgDetls.forEach(img => {
        let id = img.getAttribute('data-id');
        img.addEventListener('click',() =>{
          document.querySelector(".ditls_products").style.display = "block";
            rendershowproduct(id);
            
          savecartlocalsrg();
          
        //   calcCartcount();
        })
        })


let ex_btn=document.querySelector('.ex_btn');
function Exbtn(){
    let exit = 0;

  if (exit == 0) {
    document.querySelector(".ditls_products").style.display = "none";
    exit = 1;
    savecartlocalsrg();
  }
}


let featured =[
    {
        id:1,
        title : "Anker Sound1",
        price : 58.00,
        img_featured : "./img/onsale1.jpg",
        raet :[
            "★",
            "★",
            "★",
            "★",
            "★",
        ]
    },
    {
        id:1,
        title : "Anker Sound life",
        price : 60.00,
        img_featured : "./img/onsale1.jpg",
        raet :[
            "★",
            "★",
            "★",
            "★",
            "★",
        ]
    },
    {
        id:2,
        title : "Anker Sound life 2p",
        price : 75.00,
        img_featured : "./img/onsale1.jpg",
        raet :[
            "★",
            "★",
            "★",
            "★",
            "★",
        ]
    },
]
let Trending =[
    {
        id:1,
        title : "Iphone 14",
        price : 600,
        img_featured : "./img/prouducts/iphone 14 2.png",
        raet :[
            "★",
            "★",
            "★",
            "★",
            "★",
        ]
    },
    {
        id:1,
        title : "Iphone 14",
        price : 650,
        img_featured : "./img/prouducts/iphone 14 2.png",
        raet :[
            "★",
            "★",
            "★",
            "★",
            "★",
        ]
    },
    {
        id:2,
        title : "Iphone 14",
        price : 750,
        img_featured : "./img/prouducts/iphone 14 2.png",
        raet :[
            "★",
            "★",
            "★",
            "★",
            "★",
        ]
    },
]

rendershowfeatured();
rendershowTrending();
function rendershowfeatured(){
    let product_Featured = document.querySelector('.info_Featured');
    product_Featured.innerHTML +='';
    featured.forEach(fu => {
        product_Featured.innerHTML +=`
        <div class="card_Featured ">
        <div class="ed_img">
            <img src="${fu.img_featured}" width="100%" alt="">
        </div>
        <div class="card_Featured_infopro">
            <a href="#">${fu.title}</a>
            <b>$ ${fu.price}</b>
            <ul class="product-rate">
                <li class="stard">${fu.raet[0]}</li>
                <li class="stard">${fu.raet[1]}</li>
                <li class="stard">${fu.raet[2]}</li>
                <li class="stard">${fu.raet[3]}</li>
                <li class="stard">${fu.raet[4]}</li>
            </ul>
        </div>
    </div>
        `
    });
    
}
let showFeatured = 0;
function openFeatured() {
  if (showFeatured == 0) {
    document.querySelector(".info_Featured").style.display = "flex";
    document.querySelector(".info_Trending").style.display ="none";
    Branding = 1;
  } 
  else {
    document.querySelector("info_Featured").style.display = "flex";
    Branding = 0;
  }
}
function rendershowTrending(){
    let product_Trending = document.querySelector('.info_Trending');
    product_Trending.innerHTML +='';
    Trending.forEach(fu => {
        product_Trending.innerHTML +=`
        <div class="card_Featured">
        <div class="ed_img">
            <img src="${fu.img_featured}" width="100%" alt="">
        </div>
        <div class="card_Featured_infopro">
            <a href="#">${fu.title}</a>
            <b>$ ${fu.price}</b>
            <ul class="product-rate">
                <li class="stard">${fu.raet[0]}</li>
                <li class="stard">${fu.raet[1]}</li>
                <li class="stard">${fu.raet[2]}</li>
                <li class="stard">${fu.raet[3]}</li>
                <li class="stard">${fu.raet[4]}</li>
            </ul>
        </div>
    </div>
        `
    });
    
}
let showTrending = 0;
function openTrending() {
  if (showTrending == 0) {
    document.querySelector(".info_Trending").style.display = "flex";
    document.querySelector(".info_Featured").style.display ="none";
    Branding = 1;
  } 
  else {
    document.querySelector(".info_Trending").style.display = "none";
    Branding = 0;
  }
}













 
                      
